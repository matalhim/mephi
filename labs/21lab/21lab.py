import pandas as pd
import matplotlib.pyplot as plt
import numpy as np

# Создаем DataFrame из таблицы
data = {
    'Number': [],
    'Value': []
}

# Добавляем данные из таблицы в DataFrame
data['Number'] = list(range(200))  # Просто номера от 0 до 199
data['Value'] = [
    100002, 99983, 99996, 100110, 99934, 100060, 99981, 99964, 100003, 100008, 100021, 100018, 100010, 100117, 99997, 100281, 99966, 99794, 99882, 99983, 99921, 100111, 99995, 99946, 99970, 100079, 100076, 99863, 99989, 100104, 100032, 99946, 100078, 99970, 99855, 99869, 100067, 99802, 99963, 100027, 100036, 100156, 99759, 99986, 100031, 100153, 100027, 99786, 100060, 100003, 99972, 99906, 100001, 99978, 99910, 99905, 99808, 100155, 99907, 99863, 100125, 99947, 99798, 99936, 99762, 99907, 100105, 99932, 100095, 99990, 99935, 100049, 99965, 99960, 100207, 100018, 99736, 99957, 99890, 100112, 100001, 99906, 99934, 99780, 99624, 99752, 99606, 99737, 99502, 99238, 98498, 97003, 91697, 86628, 94732, 97937, 98683, 99137, 99355, 99569, 99671, 99662, 99461, 99290, 98913, 97853, 94590, 86639, 91746, 97023, 98603, 99431, 99819, 99610, 99632, 99588, 99732, 99801, 99758, 99796, 99752, 100237, 100032, 100026, 100062, 100064, 99932, 99765, 99885, 99958, 99917, 99871, 99988, 100067, 99843, 99868, 100014, 99865, 100106, 100144, 100020, 99954, 99948, 100028, 99950, 99757, 100037, 100174, 100159, 99871, 99884, 100019, 99798, 100056, 99913, 100053, 100101, 99946, 99873, 100009, 99975, 99944, 99969, 100133, 99862, 100001, 99988, 100182, 100014, 100029, 99964, 100185, 99975, 99996, 99834, 99939, 99938, 99926, 99969, 99963, 100225, 99907, 100132, 99867, 99975, 100080, 99867, 100002, 99902, 99966, 99950, 99905, 100162, 99898, 99931, 100025, 99931, 100006, 99956, 99901

]

# Создаем DataFrame из данных
df = pd.DataFrame(data)
errors = np.sqrt(df['Value'])

# Построение графика
plt.plot(df['Number'], df['Value'])
plt.errorbar(df['Number'], df['Value'], yerr=errors, fmt='o', markersize=3, color='black')
plt.title('Спектр нитропруссит натрия, скорость 12 мм/c')
plt.xlabel('Номер канала')
plt.ylabel('Число отсчетов')
plt.grid(True)

# Устанавливаем формат для оси y в виде 10^4
plt.ticklabel_format(axis='y', style='sci', scilimits=(0,0), useMathText=True)

plt.savefig('Спектр_нитропруссит_натрия_скорость_12.png', dpi=500)
